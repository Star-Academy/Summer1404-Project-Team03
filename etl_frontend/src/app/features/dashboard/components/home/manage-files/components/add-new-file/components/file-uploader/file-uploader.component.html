<div
  class="file-uploader"
  (dragover)="onDragOver($event)"
  (dragleave)="onDragLeave($event)"
  (drop)="onDrop($event)"
>
  <input
    type="file"
    #fileInput
    (change)="onFileSelect($event)"
    multiple
    hidden
  />
  <div class="file-uploader__actions">
    <p-button
      label="Upload New File"
      icon="pi pi-upload"
      (click)="fileInput.click()"
      styleClass="p-button-sm p-button-rounded p-button-outlined"
    ></p-button>

    <p-button
      label="Clear All"
      icon="pi pi-times"
      severity="danger"
      outlined
      styleClass="p-button-sm p-button-rounded"
      (click)="clearFiles()"
    ></p-button>
  </div>
  <h4 style="color: red; margin: 0">{{ vm().error }}</h4>
  @if(vm().files.length === 0 || vm().isDragging){
  <div
    class="file-uploader__zone-area"
    [ngClass]="{
      'file-uploader__zone-area-drag-over': vm().isDragging
    }"
    (click)="fileInput.click()"
  >
    <i class="pi pi-cloud-upload"></i>
    <span>Drop files here to upload</span>
  </div>
  }
  <h4>Uploaded Files</h4>
  <div class="file-uploader__uploaded-file-list">
    @for(file of vm().files; track file.name){
    <app-uploaded-file-item
      @scaleAnimation
      (removeFile)="removeFile($event)"
      [fileName]="file.name"
    ></app-uploaded-file-item>
    }
  </div>

  <router-outlet></router-outlet>
</div>
