<p-button
  icon="pi pi-arrow-left"
  label="Back to Files List"
  [routerLink]="['/', 'dashboard', 'files']"
  rounded
  text
  size="small"
  class="back-button"
></p-button>

@if (vm().schema?.columns) {
<p-table [value]="vm().schema!.columns" class="schema-table">
  <ng-template pTemplate="header">
    <tr>
      <th>Original Column Name</th>
      <th>New Column Name</th>
      <th>Data Type</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-col>
    <tr>
      <td>{{ col.originalColumnName }}</td>
      <td>
        <input pInputText type="text" [(ngModel)]="col.columnName" />
      </td>
      <td>
        <p-select
          [options]="dbTypes"
          [(ngModel)]="col.columnType"
          optionLabel="label"
          optionValue="value"
          placeholder="Select Type"
          appendTo="body"
        ></p-select>
      </td>
    </tr>
  </ng-template>
</p-table>

<div class="actions">
  <p-button
    rounded
    (click)="onSaveSchema()"
    label="Save"
    styleClass="save-button"
  ></p-button>
</div>
}
